Рафи Кази ар

НКАбд-03-24

1032238132\@pfur.ru

Кулябов Дмитрий Сергеевич

Moscow

2025

### **Ответы на контрольные вопросы**

**1. Дайте краткую характеристику режимам работы редактора vi.**

-   **Командный режим:** Основной режим. В нем можно перемещаться по
    > файлу, удалять, копировать, вставлять текст, а также использовать
    > другие команды редактирования. В этом режиме нажатие на клавиши
    > воспринимается как команды, а не как ввод текста.

-   **Режим вставки:** Режим для непосредственного ввода текста. В этом
    > режиме нажатые клавиши выводятся как текст в файл. Для возврата в
    > командный режим используется клавиша
    > Esc.![](/home/krafi/Documents/study_2024-2025_os-intro-master/course-directory-student-template/course-directory-student-template/labs/lab10/report/10_media/media/image1.png){width="6.5in"
    > height="1.8194444444444444in"}

-   **Режим последней (командной) строки:** Режим для выполнения сложных
    > команд: сохранение файла, выход, поиск и замена по всему файлу,
    > копирование и перемещение блоков строк. Активируется из командного
    > режима нажатием :.

**2. Как выйти из редактора, не сохраняя произведённые изменения?** Из
командного режима перейти в режим последней строки (:), ввести q! и
нажать Enter. Восклицательный знак означает принудительное выполнение
действия.![](/home/krafi/Documents/study_2024-2025_os-intro-master/course-directory-student-template/course-directory-student-template/labs/lab10/report/10_media/media/image2.png){width="6.5in"
height="1.8333333333333333in"}

**3. Назовите и дайте краткую характеристику командам
позиционирования.**

-   0 --- перемещает курсор в **начало** текущей строки.

-   \$ --- перемещает курсор в **конец** текущей строки.

-   G --- перемещает курсор в **конец** файла.

-   nG --- перемещает курсор на строку с номером **n**.

**4. Что для редактора vi является словом?** Понятие «слово» в vi
зависит от регистра команды:

-   Для строчных команд (w, b) слово --- это последовательность букв,
    > цифр и знаков подчеркивания, ограниченная с двух сторон
    > **пробелами, табуляциями, знаками пунктуации или началом/концом
    > строки**.

-   Для прописных команд (W, B) слово --- это последовательность любых
    > символов, ограниченная только **пробелами, табуляциями или
    > началом/концом строки**.

**5. Каким образом из любого места редактируемого файла перейти в начало
(конец) файла?**

-   **В начало файла:** 1G

-   **В конец файла:** G

**6. Назовите и дайте краткую характеристику основным группам команд
редактирования.**

-   **Вставка текста:** i, a, I, A --- переход в режим вставки в разных
    > позициях относительно курсора.

-   **Вставка строки:** o, O --- вставка новой строки ниже или выше
    > текущей.

-   **Удаление текста:** x, dw, dd, d\$ --- удаление символов, слов,
    > строк и частей строк в буфер.

-   **Копирование текста:** yy, yw --- копирование строк и слов в буфер.

-   **Вставка из буфера:** p, P --- вставка содержимого буфера после или
    > перед курсором.

-   **Замена текста:** r, R, cw --- замена символа, переход в режим
    > замены, замена слова.

-   **Отмена/повтор:** u --- отмена последнего действия, . --- повтор
    > последнего действия.

**7. Необходимо заполнить строку символами \$. Каковы ваши действия?**

1.  Перейти в командный режим (Esc).

2.  Перейти в начало строки (0).

3.  Перейти в режим замены (R).

4.  Ввести необходимое количество символов \$.

5.  Нажать Esc для выхода из режима замены.

**8. Как отменить некорректное действие, связанное с процессом
редактирования?** Нажать u в командном режиме. Эта команда отменяет
последнее изменение.

**9. Назовите и дайте характеристику основным группам команд режима
последней строки.**

-   **Сохранение и выход:** :w, :q, :wq, :q!.

-   **Копирование и перемещение текста:** :i,jtk (копировать строки с i
    > по j после строки k), :i,jmk (переместить строки).

-   **Работа с файлами:** :w имя-файла --- записать текст в новый файл.

-   **Поиск и замена:** (Вопросом не спрашивалось, но часто относится
    > сюда) :s/что/на_что --- замена в текущей строке.

**10. Как определить, не перемещая курсора, позицию, в которой
заканчивается строка?** Не перемещая курсор, невозможно увидеть точную
позицию конца строки. Команда \$ сразу перемещает курсор в конец.
Косвенно помочь может включение опции :set list, которая отобразит
символ \$ в конце каждой строки.

**11. Выполните анализ опций редактора vi (сколько их, как узнать их
назначение и т.д.).** Количество опций очень велико (более 100). Узнать
полный список и их назначение можно с помощью команды :set all. Основные
опции для настройки:

-   :set nu / :set nonu --- включить/выключить нумерацию строк.

-   :set ic / :set noic --- игнорировать / учитывать регистр при поиске.

-   :set list / :set nolist --- показать / скрыть невидимые символы
    > (табуляцию, концы строк).

**12. Как определить режим работы редактора vi?** В классическом vi
индикация режимов часто отсутствует, что вызывает сложности у новичков.
Ориентироваться нужно по поведению редактора: если нажатие клавиш
приводит к вводу текста --- вы в режиме вставки или замены. Если нажатие
клавиш перемещает курсор или редактирует текст --- вы в командном
режиме. Если внизу экрана появилось двоеточие : --- вы в режиме
последней строки. Современные клоны (например, vim) обычно выводят
название текущего режима внизу экрана.

**13. Постройте граф взаимосвязи режимов работы редактора vi.**

\[Запуск vi\]\
\|\
V\
+\--\> Командный режим
\<\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--+\
\| (Esc) \| \|\
\| \| i, a, o, O, R, cw, etc. \|\
\| V \|\
\| Режим вставки/замены \|\
\| \| \|\
\| \| (Esc) \|\
\| \| \|\
\| \| \|\
\| \[Режим последней строки\] \<\-- : (из командного)\
\| \| \|\
\| \| (Enter, выполнение команды) \|\
\| \| \|\
+\-\-\-\-\-\-\-\-\--+\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--+

-   **Старт:** vi всегда запускается в **командном режиме**.

-   Из командного режима можно перейти:

    -   В **режим вставки/замены** с помощью множества команд (i, a, o и
        > т.д.).

    -   В **режим последней строки** с помощью :.

-   Из **режима вставки/замены** можно вернуться **только в командный
    > режим** с помощью Esc.

-   Из **режима последней строки** после выполнения команды (или отмены
    > с помощью Ctrl+C) происходит автоматический возврат в **командный
    > режим**.
