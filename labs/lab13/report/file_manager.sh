#!/bin/bash

# Функция для создания файлов
create_files() {
    local num_files=$1
    for ((i=1; i<=num_files; i++)); do
        touch "${i}.tmp"
    done
    echo "Создано $num_files файлов."
}

# Функция для удаления файлов
delete_files() {
    # Удаляем все файлы, подходящие под шаблон '*.tmp'
    # Использование команды rm с шаблоном может быть опасным,
    # но в рамках этого задания допустимо.
    rm -f *.tmp
    echo "Все .tmp файлы в текущей директории удалены."
}

# Анализ аргументов командной строки
if [[ $# -eq 0 ]]; then
    echo "Использование:"
    echo "  $0 create <N>  - создать N файлов"
    echo "  $0 delete      - удалить все .tmp файлы"
    exit 1
fi

case $1 in
    create)
        if [[ $# -ne 2 ]]; then
            echo "Укажите число файлов для создания."
            exit 1
        fi
        # Проверяем, что второй аргумент - число
        if [[ ! $2 =~ ^[0-9]+$ ]]; then
            echo "Второй аргумент должен быть целым числом."
            exit 1
        fi
        create_files "$2"
        ;;
    delete)
        delete_files
        ;;
    *)
        echo "Неизвестная команда: $1"
        exit 1
        ;;
esac
