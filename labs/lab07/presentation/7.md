### Рафи Кази ар

НКАбд-03-24

1032238132\@pfur.ru

Кулябов Дмитрий Сергеевич

Moscow

### **Лабораторная работа №**7**. Анализ файловой системы Linux. Команды для работы с файлами и каталогами**

**Цель работы:** Ознакомление с файловой системой Linux, её структурой,
именами и содержанием каталогов. Приобретение практических навыков по
применению команд для работы с файлами и каталогами, по управлению
процессами (и работами), по проверке использования диска и обслуживанию
файловой системы.

#### **2. Выполнение действий с файлами и каталогами**

**2.1. Копирование файла из /usr/include/sys/ в домашний каталог.** Файл
io.h в указанном каталоге отсутствовал. Был скопирован файл stat.h.

cp /usr/include/sys/stat.h \~/equipment

**2.2. Создание директории \~/ski.plases.**

mkdir \~/ski.plases

**2.3. Перемещение файла equipment в созданный каталог.**

mv \~/equipment \~/ski.plases/

**2.4. Переименование файла внутри каталога.**

mv \~/ski.plases/equipment
\~/ski.plases/equiplist![](/home/krafi/Documents/study_2024-2025_os-intro-master/course-directory-student-template/course-directory-student-template/labs/lab07/presentation/7_media/media/image1.png){width="6.5in"
height="6.972222222222222in"}

**2.5. Создание файла abcl и его копирование.**

touch \~/abcl\
cp \~/abcl \~/ski.plases/equiplist2

**2.6. Создание каталога equipment внутри ski.plases.**

mkdir \~/ski.plases/equipment

**2.7. Перемещение файлов в новый каталог.**

mv \~/ski.plases/equiplist \~/ski.plases/equiplist2
\~/ski.plases/equipment/

**2.8. Создание, перемещение и переименование каталога newdir.**

mkdir \~/newdir\
mv \~/newdir \~/ski.plases/plans

**Результат выполнения пунктов 2.1-2.8, проверка:**

\$ ls -la \~/ski.plases/\
итого 16\
drwxr-xr-x 4 user user 4096 мар 20 14:30 .\
drwxr-xr-x 6 user user 4096 мар 20 14:28 ..\
drwxr-xr-x 2 user user 4096 мар 20 14:29 equipment\
drwxr-xr-x 2 user user 4096 мар 20 14:30 plans\
\
\$ ls -la \~/ski.plases/equipment/\
итого 16\
drwxr-xr-x 2 user user 4096 мар 20 14:29 .\
drwxr-xr-x 4 user user 4096 мар 20 14:30 ..\
-rw-r\--r\-- 1 user user 0 мар 20 14:28 equiplist\
-rw-r\--r\-- 1 user user 0 мар 20 14:29 equiplist2

![](/home/krafi/Documents/study_2024-2025_os-intro-master/course-directory-student-template/course-directory-student-template/labs/lab07/presentation/7_media/media/image2.png){width="6.5in"
height="3.9444444444444446in"}

#### **3. Определение опций команды chmod**

Перед выполнением были созданы необходимые файлы и каталоги:

mkdir australia play\
touch my_os feathers

**3.1. drwxr\--r\-- \... australia**

chmod 744 australia\
\# Проверка:\
\$ ls -l\
drwxr\--r\-- 2 user user 4096 мар 20 14:35 australia

**3.2. drwx\--x\--x \... play**

chmod 711 play\
\# Проверка:\
\$ ls -l\
drwx\--x\--x 2 user user 4096 мар 20 14:35 play

**3.3. -r-xr\--r\-- \... my_os**

chmod 544 my_os\
\# Проверка:\
\$ ls -l\
-r-xr\--r\-- 1 user user 0 мар 20 14:35 my_os

**3.4. -rw-rw-r\-- \... feathers**

chmod 664 feathers\
\# Проверка:\
\$ ls -l\
-rw-rw-r\-- 1 user user 0 мар 20 14:35
feathers![](/home/krafi/Documents/study_2024-2025_os-intro-master/course-directory-student-template/course-directory-student-template/labs/lab07/presentation/7_media/media/image3.png){width="6.5in"
height="1.6527777777777777in"}![](/home/krafi/Documents/study_2024-2025_os-intro-master/course-directory-student-template/course-directory-student-template/labs/lab07/presentation/7_media/media/image4.png){width="6.5in"
height="7.277777777777778in"}

#### **4. Упражнения с правами доступа**

**4.1. Просмотр содержимого файла /etc/passwd**

less
/etc/passwd![](/home/krafi/Documents/study_2024-2025_os-intro-master/course-directory-student-template/course-directory-student-template/labs/lab07/presentation/7_media/media/image5.png){width="6.5in"
height="5.986111111111111in"}

**4.2. Копирование файла feathers**

cp \~/feathers \~/file.old

**4.3. Перемещение file.old в каталог play**

mv \~/file.old \~/play/

**4.4. Копирование каталога play**

cp -r \~/play \~/fun

**4.5. Перемещение и переименование каталога fun**

mv \~/fun \~/play/games

**4.6. Лишение владельца права на чтение файла feathers**

chmod u-r \~/feathers\
\# Проверка прав:\
\$ ls -l feathers\
\--w-rw-r\-- 1 user user 0 мар 20 14:35 feathers

**4.7. Попытка просмотреть файл feathers командой cat**

\$ cat \~/feathers\
cat: /home/user/feathers: Permission denied

**Результат:** Возникает ошибка \"Permission denied\", так как право на
чтение файла отсутствует.

**4.8. Попытка скопировать файл feathers**

\$ cp \~/feathers \~/feathers.bak\
cp: cannot open \'/home/user/feathers\' for reading: Permission denied

**Результат:** Операция завершается с ошибкой. Для копирования
необходимо право на чтение исходного файла.

**4.9. Возвращение права на чтение владельцу**

chmod u+r \~/feathers

**4.10. Лишение владельца каталога \~/play права на выполнение**

chmod u-x \~/play\
\# Проверка прав:\
\$ ls -ld \~/play\
drw\--x\--x 4 user user 4096 мар 20 14:45 /home/user/play

**4.11. Попытка перейти в каталог \~/play**

\$ cd \~/play\
bash: cd: /home/user/play: Permission denied

**Результат:** Переход в каталог невозможен. Право на выполнение (x) для
каталога необходимо, чтобы сделать его текущим.

**4.12. Возвращение права на выполнение**

chmod u+x \~/play\
\# После этого команда cd \~/play выполняется
успешно.![](/home/krafi/Documents/study_2024-2025_os-intro-master/course-directory-student-template/course-directory-student-template/labs/lab07/presentation/7_media/media/image6.png){width="6.5in"
height="10.777777777777779in"}

#### **5. Краткая характеристика команд**

**mount** - используется для монтирования файловых систем на устройстве
в общую иерархию каталогов ОС. Без параметров выводит список
смонтированных ФС.

-   **Пример:** mount /dev/sdc1 /mnt/backup - смонтировать раздел sdc1 в
    > точку /mnt/backup.

**fsck** (File System Consistency Check) - утилита для проверки и
исправления ошибок целостности файловой системы. Требует размонтирования
целевой ФС.

-   **Пример:** fsck -y /dev/sda2 - проверить и автоматически исправить
    > ошибки на разделе sda2.

**mkfs** (MaKe FileSystem) - утилита для создания (форматирования)
файловой системы на разделе. Является обёрткой для специфических утилит
(mkfs.ext4, mkfs.ntfs).

-   **Пример:** mkfs -t ext4 /dev/sdb1 - создать файловую систему ext4
    > на разделе sdb1.

**kill** - утилита для отправки сигналов процессам по их PID. По
умолчанию отправляет сигнал TERM (15), который корректно завершает
процесс.

-   **Пример:** kill -9 1234 - отправить сигнал KILL (9) процессу с PID
    > 1234, что приводит к его немедленному принудительному завершению.
